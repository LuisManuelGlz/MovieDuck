{% extends 'base.html' %}
{% load widget_tweaks %}

{% block title %}Password change{% endblock %}

{% block content %}
  {% if form.errors %}
    {% for field in form %}
      {% for error in field.errors %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          {{ error }}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      {% endfor %}
    {% endfor %}
  {% endif %}

  <div class="row">
    <div class="col-4">
      <h2 class="text-secondary">Password change</h2>
      <hr />

      <form method="post">
        {% csrf_token %}
    
        <div class="form-group">
          {{ form.old_password|attr:"class:form-control"|attr:"placeholder:Old password" }}
        </div>

        <div class="form-group">
          {{ form.new_password1|attr:"class:form-control"|attr:"placeholder:New password" }}
        </div>

        <div class="form-group">
          {{ form.new_password2|attr:"class:form-control"|attr:"placeholder:New password (confirmation)" }}
        </div>
    
        <div class="form-group">
          <button class="btn btn-primary mr-2" type="submit">Change my password</button>
          <a class="btn text-secondary" href="{% url 'registration:profile' %}">Go to my profile</a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
